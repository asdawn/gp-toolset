# GP-Toolset
一个字符界面下的地理信息处理工具集

## 目标

封装常见开源GIS类库（以及插件）提供的工具，实现一个基于Docker的开源地理信息处理工具集。

## 动机

开源GIS工具提供大量算法，很大程度上可以和商业GIS媲美。但是安装部署方面对于普通的行业内用户乃至行业外用户并不算友好。主要问题有：

1. 安装困难

GIS软件依赖的类库数量通常较大，并且在不同版本的系统上安装方法可能不一致，有时候正确的安装/编译方法可能要经过很久的探索才能掌握。

2. 文档缺失

文档缺失是开源软件的常见问题。有些没有帮助文档；有些只有根据代码自动化生成的帮助文档，功能、参数以及涉及的术语让人难以理解；有些则是版本已经过时。

3. 版本冲突

一般情况下我们会定期更新软件以得到最新的功能和问题修正。有时会遇到版本冲突问题，例如部分接口发生变更导致针对旧版本写的软件无法正常工作。在需要同时保留多个版本时经常会遇到版本重估问题。

4. 临时文件清理

进行数据处理时，经常要创建临时文件。如果要确保这些文件在使用完毕后清理掉需要追加很多相关逻辑，尤其调用的功能在运行中崩溃后临时文件的处理会变得更加复杂。

为解决这些问题，GP-Toolset考虑采用以下方案：

1. 利用Docker技术解决部署、版本冲突以及临时文件问题

提供集成不同版本的GIS软件的预制Docker镜像，通过DockerHub共享，这样可以尽可能降低部署难度，也易于避免版本冲突。由于Docker自身的特点，临时文件在任务完成后可以随着容器实例的注销自动清除。

2. 重新封装的接口和重新整理的文档

统一封装为基于python3或者bash（均可在bash里直接运行）的命令行工具，文档也随着规整，追加名词解释。

## 适用场景

GP-Toolset中的工具分为两组，一组是基于后台驻留式服务，可以提供实时/准实时的轻型GIS服务，例如计算两点间距离。另一种则是采用一次性运行的容器，每次调用均创建一个容器，处理完成之后注销容器，用于耗时较长的任务。由于创建、注销容器（以及启动、关闭相关的软件环境）需要消耗一定时间，后一种模式一般不用于实时/准实时服务。

## 致谢

+ 本项目的参与者：

[asdawn](https://github.com/asdawn)


+ 开源项目

[QGIS](https://qgis.org/)

[GDAL](https://gdal.org/)

[PostgreSQL](https://www.postgresql.org/)

[PostGIS](http://www.postgis.org/)

[PgRouting](http://pgrouting.org/)

[Orfeo Toolbox](https://www.orfeo-toolbox.org/)